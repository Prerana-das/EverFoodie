<template>
    <div>

    	<!-- ===================== Banner Area Start ======================= -->
		<div class="partner_banner_area">
			<div class="container">
				<div class="row">
					<div class="partner_main_banner">
						<h1 class="partner_main_title _mar_b15">Order Takeaway or Delivery Food</h1>
						<a href="/login" class="block_btn">Sign Up Now</a>
					</div>
				</div>
			</div>
		</div>
		<!-- ===================== Banner Area End ======================= -->

		
		<!-- ===================== About Area Start ======================= -->
		<div class="about_area _padd_tb60">
			<div class="about_area_top">
				<div class="container">
					<div class="row">
						<div class="col-md-12">
							<div class="section_title_area _mar_b30">
								<h1 class="section_title">Our customers love good food. You prepare it. We bring it.</h1>
							</div>
						</div>
					</div>
					<div class="row">
						<!-- Item -->
						<div class="col-md-4">
							<div class="about_single_item _mar_b30">
								<h3 class="about_single_item_title _mar_b10">More revenue</h3>
								<p class="about_single_item_cont">With everfoodie, you will gain an additional source of income. Our customers are continually searching the latest cool restaurants in their city.</p>
							</div>
						</div>
						<!-- Item -->
						<!-- Item -->
						<div class="col-md-4">
							<div class="about_single_item _mar_b30">
								<h3 class="about_single_item_title _mar_b10">More revenue</h3>
								<p class="about_single_item_cont">With everfoodie, you will gain an additional source of income. Our customers are continually searching the latest cool restaurants in their city.</p>
							</div>
						</div>
						<!-- Item -->
						<!-- Item -->
						<div class="col-md-4">
							<div class="about_single_item _mar_b30">
								<h3 class="about_single_item_title _mar_b10">More revenue</h3>
								<p class="about_single_item_cont">With everfoodie, you will gain an additional source of income. Our customers are continually searching the latest cool restaurants in their city.</p>
							</div>
						</div>
						<!-- Item -->
					</div>
				</div>
			</div>
			<div class="about_bottom_area _padd_tb60">
				<div class="container">
					<div class="row">
						<div class="col-md-12">
							<div class="about_bottom">
								<h2 class="about_bottom_title _mar_b15">About everfoodie</h2>
								<p class="about_bottom_cont _mar_b10">We're hungry for the best things in life: delicious food, exploring the city and bringing the first bite of food to our customers.</p>
								<p class="about_bottom_cont _mar_b10">We're hungry for the best things in life: delicious food, exploring the city and bringing the first bite of food to our customers.</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- ===================== About Area end ======================= -->


		<!-- ===================== Workflow Area Start ======================= -->
		<div class="work_flow_area _padd_tb60">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<div class="section_title_area _mar_b30">
							<h1 class="section_title">How it works</h1>
						</div>
					</div>
				</div>
				<div class="row">
					<!-- Item -->
					<div class="col-md-3">
						<div class="work_flow_item _mar_b30">
							<img src="assets/img/phn_loc.png" alt="">
							<p>Customers enter a delivery address via the app or website and select a restaurant nearby.</p>
						</div>
					</div>
					<!-- Item -->
					<!-- Item -->
					<div class="col-md-3">
						<div class="work_flow_item _mar_b30">
							<img src="assets/img/food.jpg" alt="">
							<p>Restaurant accepts the order through the tablet we provide, and starts preparing the food for a specific pick up time.</p>
						</div>
					</div>
					<!-- Item -->
					<!-- Item -->
					<div class="col-md-3">
						<div class="work_flow_item _mar_b30">
							<img src="assets/img/rider.png" alt="">
							<p>Our rider arrives at the right time to collect and delivers the order within 30min after the order was placed.</p>
						</div>
					</div>
					<!-- Item -->
					<!-- Item -->
					<div class="col-md-3">
						<div class="work_flow_item _mar_b30">
							<img src="assets/img/dolllar.jpg" alt="">
							<p>everfoodie sends you the proceeds from your orders every month and provides detailed insights on your performance.</p>
						</div>
					</div>
					<!-- Item -->
				</div>
			</div>
		</div>
		<!-- ===================== Workflow Area End ======================= -->

		<!-- ===================== Activation Area Start ======================= -->
		<div class="activation_area _padd_tb60">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<div class="section_title_area _mar_b30">
							<h1 class="section_title">Steps for activation</h1>
						</div>
					</div>
				</div>
				<div class="row">
					<!-- Item -->
					<div class="col-md-3">
						<div class="activation_item _mar_b30">
							<img src="assets/img/woman.png" alt="">
							<p class="activation_item_cont _mar_t10 _mar_t10"><span>Step 1:</span> Sign up online</p>
						</div>
					</div>
					<!-- Item -->
					<!-- Item -->
					<div class="col-md-3">
						<div class="activation_item _mar_b30">
							<img src="assets/img/checkmark.png" alt="">
							<p class="activation_item_cont _mar_t10"><span>Step 2:</span> Approval stage</p>
						</div>
					</div>
					<!-- Item -->
					<!-- Item -->
					<div class="col-md-3">
						<div class="activation_item _mar_b30">
							<img src="assets/img/phone.png" alt="">
							<p class="activation_item_cont _mar_t10"><span>Step 3:</span> Receive training via call</p>
						</div>
					</div>
					<!-- Item -->
					<!-- Item -->
					<div class="col-md-3">
						<div class="activation_item _mar_b30">
							<img src="assets/img/live-stream.png" alt="">
							<p class="activation_item_cont _mar_t10"><span>Step 4:</span> Your restaurant is live on everfoodie</p>
						</div>
					</div>
					<!-- Item -->
				</div>
			</div>
		</div>
		<!-- ===================== Activation Area End ======================= -->

		<!-- ===================== Partnership form Area Start ======================= -->
		<div class="partnership_form_area _padd_tb60">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<div class="section_title_area _mar_b30">
							<h1 class="section_title">Interested? Fill in the form below to become our partner and increase your revenue!</h1>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-5 col-md-5 col-sm-12">
						<div class="partnership_left _padd20">
							<img src="assets/img/about_main.jpg" alt="">
						</div>
					</div>
					<div class="col-lg-7 col-md-7 col-sm-12">
						<div class="partnership_right _box_shadow">
							<h3 class="hour_title _mar_b30">Partnership Form</h3>

							<form class="partnership-form" @submit.prevent="registration">
								<div class="form-box required">
									<input v-model="formItem.name" type="text" placeholder="Restaurant Name">
								</div>
								<div class="form-box">
									<Select v-model="formItem.city_id"  placeholder="Select City">
										<Option v-for="(item,index) in city" :value="item.id" :key="index">
											{{ item.name }}
										</Option>
									</Select>
								</div>
								<div class="form-box">
									<Select v-model="formItem.address" placeholder="Select Area">
										<Option v-for="(item,index) in area" :value="item.name" :key="index">
											{{ item.name }}
										</Option>
									</Select>
								</div>
								<div class="form-box">
									<Upload
									ref="upload"
									type="drag"
									name="image"
									:show-upload-list="listMethod" 
									:with-credentials="true"
									:data="{id:1}"
									:on-success="handleSuccess"
									:format="['jpg','jpeg','png']"
									:max-size="2048"
									action="/app/upload">
									<div style="padding: 20px 0">
										<Icon type="ios-cloud-upload" size="32" style="color: #3399ff"></Icon>
										<p>Upload Image</p>
									</div>
								
									</Upload>
								</div>
								<div class="form-box">
									<p>Average cost of a meal</p>
									  <div id="radios">
										<label>&#36;</label>
										<input type="radio" value="150" v-model="formItem.cost">
										<label>&#36; &#36;</label>
										<input type="radio" value="300" v-model="formItem.cost">
										<label>&#36; &#36; &#36;</label>
										<input type="radio" value="1000" v-model="formItem.cost">
									</div>  

									<!-- $ = Less than 150 BDT, $$ = Less than 300 BDT, $$$ = Less than 1000 BDT -->
								</div>
								<div class="form-box required">
									<textarea v-model="formItem.description"></textarea>
								</div>
								<div class="form-box required">
									<input v-model="formItem.phone" type="number" placeholder="Restaurant Phone">
								</div>
								<div class="form-box required">
									<input v-model="formItem.email" type="email" placeholder="Restaurant Email">
								</div>
								<div class="form-box required">
									<input v-model="formItem.password" type="password" placeholder="Restaurant Password">
								</div>
								<div class="form-box required">
									<input v-model="formItem.password_confirmation" type="password" placeholder="Restaurant Password confirm">
								</div>
								<!-- <input name="user_type" type="hidden" :value="someData"> -->
								<div class="partnership-btn">
									<input class="block_btn" type="submit" value="Submit">
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- ===================== Partnership form Area end ======================= -->

    </div>
</template>



<script>
    export default {
        data () {
            return {
				user:[],
				formItem: {
					name: '',
					address:'',
					image:'',
					cost:'',
					city_id:'',
					phone:'',
					email:'',
					password:'',
					password_confirmation:'',
					user_type:''
				},
				imageUrl:'',			
				listMethod:true,
				city:[],
				area:[]
			}
        },
        methods: {

			handleSuccess(res, file){
               if (res) {
				this.formItem.image = res
				}
			},

			// async all_restaurant(){
			// 	const res = await this.callApi('get','all_restaurant')
			// 	if(res.status == 200){
			// 		this.restaurant = res.data
			// 	}
			// },
		

			async registration(){
				if(this.formItem.name == '') return this.i("Restaurant Name is empty!");
				if(this.formItem.description == '') return this.i("Restaurant Name is empty!");
				if(this.formItem.image == '') return this.i("Restaurant Name is empty!");
				if(this.formItem.cost == '') return this.i("Restaurant Name is empty!");
				if(this.formItem.phone == '') return this.i("Restaurant phone number is empty!");
				if(this.formItem.email == '') return this.i("Restaurant email is empty!");
				if(this.formItem.password == '') return this.i("Restaurant password is empty!");
				this.formItem.user_type='Restaurant'
				const res = await this.callApi('post','registration',this.formItem)

				if(res.status == 200){
					this.user.push(res.data)
					this.s("New user Added !")
					// this.formItem.name = ''
					// window.location='/login'
				}
				else{
					if(res.status==422){
						if(res.data.errors.name){
							this.e(res.data.errors.name[0])
						}
						if(res.data.errors.description){
							this.e(res.data.errors.description[0])
						}
						if(res.data.errors.image){
							this.e(res.data.errors.image[0])
						}
						if(res.data.errors.cost){
							this.e(res.data.errors.cost[0])
						}
						if(res.data.errors.phone){
							this.e(res.data.errors.phone[0])
						}
						if(res.data.errors.email){
							this.e(res.data.errors.email[0])
						}
						if(res.data.errors.password){
							this.e(res.data.errors.password[0])
						}
						
					}else{
						this.swr()
					}
				}
			},

		

		},


		 async created(){

			//this.all_user();
	
			const [res1, res2] = await Promise.all([ this.callApi('get','get_all_city'),this.callApi('get','all_area') ])
			if(res1.status == 200 && res2.status == 200){
				this.city = res1.data
				this.area= res2.data
			}
			else{
				this.swr()
			}
    	}
	
	
	}
	
</script>



